function cov_29mf6hxj3u(){var path="C:\\capstoneRestAPis\\middleware\\authMiddleware.js";var hash="5f9d90337d972df0f05e6a73e12c7183fe239b4f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\capstoneRestAPis\\middleware\\authMiddleware.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:34}},"1":{start:{line:2,column:0},end:{line:2,column:27}},"2":{start:{line:7,column:27},end:{line:7,column:55}},"3":{start:{line:8,column:22},end:{line:8,column:60}},"4":{start:{line:9,column:8},end:{line:10,column:56}},"5":{start:{line:10,column:10},end:{line:10,column:56}},"6":{start:{line:11,column:8},end:{line:17,column:11}},"7":{start:{line:12,column:10},end:{line:13,column:58}},"8":{start:{line:13,column:12},end:{line:13,column:58}},"9":{start:{line:15,column:10},end:{line:15,column:17}},"10":{start:{line:21,column:0},end:{line:21,column:29}}},fnMap:{"0":{name:"requireAuth",decl:{start:{line:5,column:9},end:{line:5,column:20}},loc:{start:{line:5,column:37},end:{line:19,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:50},end:{line:11,column:51}},loc:{start:{line:11,column:66},end:{line:17,column:9}},line:11}},branchMap:{"0":{loc:{start:{line:8,column:22},end:{line:8,column:60}},type:"binary-expr",locations:[{start:{line:8,column:22},end:{line:8,column:32}},{start:{line:8,column:36},end:{line:8,column:60}}],line:8},"1":{loc:{start:{line:9,column:8},end:{line:10,column:56}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:56}},{start:{line:9,column:8},end:{line:10,column:56}}],line:9},"2":{loc:{start:{line:12,column:10},end:{line:13,column:58}},type:"if",locations:[{start:{line:12,column:10},end:{line:13,column:58}},{start:{line:12,column:10},end:{line:13,column:58}}],line:12}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5f9d90337d972df0f05e6a73e12c7183fe239b4f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_29mf6hxj3u=function(){return actualCoverage;};}return actualCoverage;}cov_29mf6hxj3u();const jwt=(cov_29mf6hxj3u().s[0]++,require('jsonwebtoken'));cov_29mf6hxj3u().s[1]++;require('dotenv').config();function requireAuth(req,res,next){cov_29mf6hxj3u().f[0]++;const authHeader=(cov_29mf6hxj3u().s[2]++,req.headers['authorization']);const token=(cov_29mf6hxj3u().s[3]++,(cov_29mf6hxj3u().b[0][0]++,authHeader)&&(cov_29mf6hxj3u().b[0][1]++,authHeader.split(' ')[1]));cov_29mf6hxj3u().s[4]++;if(token==null){cov_29mf6hxj3u().b[1][0]++;cov_29mf6hxj3u().s[5]++;res.status(401).send({message:'Login first'});}else{cov_29mf6hxj3u().b[1][1]++;}cov_29mf6hxj3u().s[6]++;jwt.verify(token,process.env.SECRET_KEY,(err,user_id)=>{cov_29mf6hxj3u().f[1]++;cov_29mf6hxj3u().s[7]++;if(err){cov_29mf6hxj3u().b[2][0]++;cov_29mf6hxj3u().s[8]++;res.status(403).send('Provide a valid token');}else{cov_29mf6hxj3u().b[2][1]++;}cov_29mf6hxj3u().s[9]++;next();});}cov_29mf6hxj3u().s[10]++;module.exports=requireAuth;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJjb25maWciLCJyZXF1aXJlQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsInRva2VuIiwic3BsaXQiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVRfS0VZIiwiZXJyIiwidXNlcl9pZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIrbkVBZVk7MkZBZlosS0FBTUEsQ0FBQUEsR0FBRywwQkFBRUMsT0FBTyxDQUFDLGNBQUQsQ0FBVCxDQUFULEMsd0JBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBR0EsUUFBU0MsQ0FBQUEsV0FBVCxDQUFxQkMsR0FBckIsQ0FBMEJDLEdBQTFCLENBQStCQyxJQUEvQixDQUFxQyx5QkFFN0IsS0FBTUMsQ0FBQUEsVUFBVSwwQkFBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVksZUFBWixDQUFILENBQWhCLENBQ0EsS0FBTUMsQ0FBQUEsS0FBSywwQkFBRyw0QkFBQUYsVUFBVSwrQkFBSUEsVUFBVSxDQUFDRyxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBQUosQ0FBYixDQUFYLENBSDZCLHdCQUk3QixHQUFHRCxLQUFLLEVBQUUsSUFBVixDQUNFLG9EQUFBSixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixDQUFDQyxPQUFPLENBQUMsYUFBVCxDQUFyQixFQUE4QyxDQURoRCxpQ0FKNkIsd0JBTTdCYixHQUFHLENBQUNjLE1BQUosQ0FBV0wsS0FBWCxDQUFrQk0sT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQTlCLENBQTBDLENBQUNDLEdBQUQsQ0FBTUMsT0FBTixHQUFnQixpREFDeEQsR0FBR0QsR0FBSCxDQUNFLG9EQUFBYixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQix1QkFBckIsRUFBOEMsQ0FEaEQsaUNBRHdELHdCQUl4RE4sSUFBSSxHQUVMLENBTkQsRUFRUCxDLHlCQUVEYyxNQUFNLENBQUNDLE9BQVAsQ0FBaUJsQixXQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGp3dCA9cmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIHJlcXVpcmVBdXRoKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgXHJcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ107XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyICYmIGF1dGhIZWFkZXIuc3BsaXQoJyAnKVsxXTtcclxuICAgICAgICBpZih0b2tlbj09bnVsbClcclxuICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttZXNzYWdlOidMb2dpbiBmaXJzdCd9KTtcclxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5TRUNSRVRfS0VZLCAoZXJyLCB1c2VyX2lkKT0+e1xyXG4gICAgICAgICAgaWYoZXJyKVxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCgnUHJvdmlkZSBhIHZhbGlkIHRva2VuJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZUF1dGg7XHJcbiJdfQ==